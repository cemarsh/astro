---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const recentPosts = posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()).slice(0, 3);
---

<Layout title="Astro Exploration | Home">
	<section class="mb-12">
		<h1 class="mb-4 text-4xl font-bold text-white">
			Welcome to <span class="text-purple-400">Astro Lab</span>
		</h1>
		<p class="mb-6 text-lg text-slate-300">
			Exploring Astro's capabilities: Islands Architecture, Content Collections,
			and multi-framework support with React, Vue, and Svelte.
		</p>
		<div class="flex gap-4">
			<a href="/components" class="rounded-lg bg-purple-600 px-6 py-3 font-medium text-white hover:bg-purple-700">
				View Components
			</a>
			<a href="/blog" class="rounded-lg border border-purple-500 px-6 py-3 font-medium text-purple-400 hover:bg-purple-500/20">
				Read Blog
			</a>
		</div>
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">Tech Stack</h2>
		<div class="grid gap-4 md:grid-cols-3">
			<div class="rounded-lg border border-slate-700 bg-slate-800 p-4">
				<h3 class="mb-2 font-bold text-blue-400">React</h3>
				<p class="text-sm text-slate-400">Component library with hooks and JSX</p>
			</div>
			<div class="rounded-lg border border-slate-700 bg-slate-800 p-4">
				<h3 class="mb-2 font-bold text-green-400">Vue</h3>
				<p class="text-sm text-slate-400">Progressive framework with Composition API</p>
			</div>
			<div class="rounded-lg border border-slate-700 bg-slate-800 p-4">
				<h3 class="mb-2 font-bold text-orange-400">Svelte</h3>
				<p class="text-sm text-slate-400">Compiler-based framework with Runes</p>
			</div>
		</div>
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">Features Explored</h2>
		<ul class="grid gap-3 md:grid-cols-2">
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> Islands Architecture
			</li>
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> Content Collections
			</li>
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> Multi-Framework Support
			</li>
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> Tailwind CSS v4
			</li>
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> TypeScript Strict Mode
			</li>
			<li class="flex items-center gap-2 text-slate-300">
				<span class="text-green-400">✓</span> Cloudflare Pages Deployment
			</li>
		</ul>
	</section>

	<section>
		<div class="mb-6 flex items-center justify-between">
			<h2 class="text-2xl font-bold text-white">Recent Posts</h2>
			<a href="/blog" class="text-purple-400 hover:text-purple-300">View all →</a>
		</div>
		<div class="grid gap-4">
			{recentPosts.map((post) => (
				<a href={`/blog/${post.id}`} class="block rounded-lg border border-slate-700 bg-slate-800 p-4 hover:border-purple-500">
					<h3 class="mb-2 font-bold text-white">{post.data.title}</h3>
					<p class="mb-2 text-sm text-slate-400">{post.data.description}</p>
					<div class="flex gap-2">
						{post.data.tags.map((tag) => (
							<span class="rounded bg-slate-700 px-2 py-1 text-xs text-slate-300">{tag}</span>
						))}
					</div>
				</a>
			))}
		</div>
	</section>
</Layout>
